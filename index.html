<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Metro Hattı Açılış Sayaçları</title>
<style>
html, body {
    margin:0;
    padding:0;
    height:100%;
    font-family: Arial, sans-serif;
    transition: background 0.3s, color 0.3s, transform 0.5s ease-in-out;
    transform-origin: top left;
}
body.dark-mode {background:#000;color:#fff;}

#temaToggle, #mobilToggle {
    position: fixed; right:15px; padding:10px 15px;
    cursor:pointer; background:#333; color:#fff; border:none;
    font-weight:bold; font-size:16px; border-radius:5px; z-index:2000;
}
#temaToggle {top:15px;}
#mobilToggle {top:60px;}

.wrapper {
    margin-top:50px;
    display:flex;
    flex-direction:column;
    align-items:center;
    width:100%;
    padding:0 16px;
    box-sizing:border-box;
    transition: all 0.3s ease;
}

/* ✅ Mobil görünüm zoom */
body.zoomed {
    transform: scale(1.9);
    transform-origin: top left;
    overflow-x:hidden;
}
body.zoomed #temaToggle,
body.zoomed #mobilToggle {
    display:none;
}
body.zoomed .wrapper {
    align-items:flex-start;
    padding-left:14px;
    margin-top:10px;
    width:100vw;
    box-sizing:border-box;
}

body.zoomed #gelecek {
    margin: 0;
    padding-left:0;
    max-width:none;
    width:100%;
}

/* 🔹 Mobil sürümde genel metin ve logo boyutları artırıldı */
body.zoomed .message {
    font-size: 34px;
    gap: 18px;
}

body.zoomed img.logo {
    height: 75px;
}

body.zoomed .clock {
    font-size: 50px;
}

/* 🔹 Sayaç grupları arasına boşluk (eski haline yakın) */
.sayaç-grubu {
    margin-bottom: 80px;
    max-width:600px;
    width:100%;
    text-align:left;
}

/* 🔹 Mobil modda bilgi kutuları daha büyük ve okunabilir hale gelsin */
body.zoomed .info-box {
    font-size: 22px;
    line-height: 1.6;
    padding: 18px;
    border-radius: 10px;
}

body.zoomed .info-box p {
    font-size: 22px;
    font-weight: 600;
}

body.zoomed .close-btn {
    font-size: 18px;
    padding: 8px 12px;
    border-radius: 8px;
}

/* 🔸 Satırların alta geçmesini engelle */
.message {
    display:flex;
    align-items:center;
    gap:15px;
    font-size:30px;
    flex-wrap:nowrap;
    white-space:nowrap;
}

/* 🔹 Logolar */
img.logo {
    height:60px;
    object-fit:contain;
    flex-shrink:0;
}

/* 🔹 Sadece belirli logolara yumuşatma efekti */
img.logo[alt="Balat"],
img.logo[alt="Konyaray"] {
    border-radius:20px;
}

/* Sayaç metni */
.clock {font-size:40px; font-weight:bold; margin-top:10px; white-space:nowrap;}
.green{color:#008000;}
.red{color:red;}
.orange{color:orange;}
.black{color:black;}
.lime-green{color:#32CD32;} /* Misket limonu yeşili */

.clock span + span{margin-left:10px; color:black;}
body.dark-mode .clock span{color:white;}
body.dark-mode .clock .green{color:#008000;}
body.dark-mode .clock .red{color:#ff4d4d;}
body.dark-mode .clock .orange{color:orange;}
body.dark-mode .clock .black{color:white;}
body.dark-mode .clock .lime-green{color:#32CD32;}
body.dark-mode .clock span + span{color:white;}

/* Statik durumlar için boşluğu daraltan özel kural */
.clock.static-status span + span {
    margin-left: 0.25em;
}


/* Bilgi simgesi */
.info-symbol{
    cursor:pointer; font-size:16px; font-weight:bold; width:20px; height:20px; line-height:20px;
    border-radius:50%; background:#ccc; color:#000; display:inline-flex; align-items:center; justify-content:center; margin-left:5px;
}
.info-symbol:hover{background:#888; color:#fff;}

/* Bilgi kutusu */
.info-box{
    display:none; margin-top:10px; background:#f0f0f0; color:#000; border:1px solid #ccc;
    padding:12px; border-radius:8px; width:100%; line-height:1.4; font-weight:600;
    box-shadow:0 6px 18px rgba(0,0,0,0.12);
    transform:translateY(-12px) scale(0.99);
    opacity:0;
    max-height:0;
    overflow:hidden;
    transition: transform 320ms cubic-bezier(.2,.9,.2,1), opacity 320ms ease, max-height 320ms ease;
}
.info-box.show{
    display:block;
    transform:translateY(0) scale(1);
    opacity:1;
    max-height:1000px; /* Genişletilmiş max-height */
}
body.dark-mode .info-box{background:#333;color:#fff;border-color:#555;}
.info-box p{margin:0; padding:0; font-weight:600;}
.close-btn, .map-btn {
    margin-top:8px;
    cursor:pointer;
    background:#eee;
    border:1px solid #ccc;
    padding:6px;
    border-radius:6px;
    font-weight:600;
    display:inline-block;
}
.map-btn { margin-left: 5px; }

body.dark-mode .close-btn, body.dark-mode .map-btn {
    background:#555;
    color:#fff;
    border-color:#888;
}

/* Harita konteyneri */
.map-container {
    margin-top: 15px;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-in-out;
}
.map-container.show {
    max-height: 1000px;
}
.map-container img {
    width: 100%;
    height: auto;
    border: 0;
    border-radius: 8px;
}

/* Link kutuları */
.link-box, .link-box-red, .link-box-turquoise {
    font-size:22px; font-weight:bold; cursor:pointer; text-decoration:none; margin:0; padding:10px 0;
    display:block; text-align:center;
    margin-bottom: 80px;
}

.link-box { color:purple; }
.link-box:hover{color:darkviolet;}

.link-box-red { color:red; }
.link-box-red:hover{color:darkred;}

.link-box-turquoise { color: #20B2AA; }
.link-box-turquoise:hover{ color: #008B8B; }

#gelecek, #belirsiz, #proje {
    display:none;
    width:100%;
    max-width:600px;
    margin:0 auto;
    text-align:left;
}

/* Responsive */
@media (max-width:640px){
    .message{font-size:24px; gap:12px;}
    img.logo{height:50px;}
    .clock{font-size:32px;}
    .close-btn, .map-btn {font-size:14px;}
    #temaToggle, #mobilToggle{font-size:16px;}
}
</style>
</head>
<body>
<button id="temaToggle" aria-pressed="false">Tema Değiştir</button>
<button id="mobilToggle" aria-pressed="false">Mobil Sürüme Geç</button>

<div class="wrapper">
<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/e/e8/Istanbul_M3_Line_Symbol.svg" class="logo" alt="M3">
        <span class="text">Yıldıztepe Metro İstasyonu</span>
    </div>
    <div class="clock">
        <span class="green">8 Ekim'de açıldı</span>
        <span>(3407 gün sürdü)</span>
    </div>
</div>
<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/tr/d/d9/Ak%C3%A7aray_logo.png" class="logo" alt="Akçaray">
        <span class="text">Otogar - Stadyum Uzatması</span>
        <button class="info-symbol" data-target="infoBox1" aria-expanded="false" aria-controls="infoBox1">i</button>
    </div>
    <div class="clock" id="clock1" aria-live="polite"></div>
    <div class="info-box" id="infoBox1" role="region" aria-hidden="true">
        <p>Kocaeli Akçaray tramvay hattının 3.8 km ve 6 istasyondan oluşan Stadyum uzatmasının 14 Ekim 2025 tarihindeki Türkiye - Gürcistan maçına yolcu taşıyacak şekilde 17.00'da açılması hedefleniyor</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/1/14/Istanbul_M11_Line_Symbol.svg" class="logo" alt="M11">
        <span class="text">Arnavutköy - Halkalı Uzatması</span>
        <button class="info-symbol" data-target="infoBox2" aria-expanded="false" aria-controls="infoBox2">i</button>
    </div>
    <div class="clock" id="clock2" aria-live="polite"></div>
    <div class="info-box" id="infoBox2" role="region" aria-hidden="true">
        <p>69 km uzunluğundaki Gayrettepe - İstanbul Havalimanı - Halkalı metro hattının son etabı olan 17.5 km ve 5 istasyonluk kesiminin sahadan duyumlara göre Cumhuriyet Bayramı'na yetiştirilmesi hedefleniyor. Ulaştırma Bakanlığı 2025 sonu dediğinden beri ek bilgi paylaşmadı</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        <button class="map-btn" id="showMapBtnM11" aria-expanded="false">Haritayı Göster</button>
        <div class="map-container" id="mapContainerM11">
            <a href="https://ibb.co/RGLYH48B"><img src="https://i.ibb.co/Y4vPjTgy/66f930a4bf6fc652-w1200xh675.jpg" alt="M11 Halkalı Uzatması Haritası" /></a>
        </div>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/b/bd/Istanbul_M5_Line_Symbol.svg" class="logo" alt="M5">
        <span class="text">Samandıra - Sultanbeyli Uzatması</span>
        <button class="info-symbol" data-target="infoBox3" aria-expanded="false" aria-controls="infoBox3">i</button>
    </div>
    <div class="clock" id="clock3" aria-live="polite"></div>
    <div class="info-box" id="infoBox3" role="region" aria-hidden="true">
        <p>Üsküdar - Samandıra arasında çalışmakta olan hattın 4.4 km ve 3 istasyondan oluşan son etabının Ocak 2026 bitmeden açılacağı belirtiliyor. 2023 yılında Çekmeköy - Samandıra arasının açılışına yetişmediği için pas geçilen Sancaktepe Şehir Hastanesi istasyonunun ocak ayında açılıp açılmayacağı hakkında kesin bir bilgilendirme yok</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="link-box" onclick="showGelecek()" role="button" tabindex="0">Uzak geleceği görmek istiyorsan tıkla</div>

<div id="gelecek">

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/d/d4/Istanbul_M12_Line_Symbol.svg" class="logo" alt="M12">
        <span class="text">Ümraniye - Ataşehir - Göztepe Metrosu</span>
        <button class="info-symbol" data-target="infoBox4" aria-expanded="false" aria-controls="infoBox4">i</button>
    </div>
    <div class="clock" id="clock4" aria-live="polite"></div>
    <div class="info-box" id="infoBox4" role="region" aria-hidden="true">
        <p>13 km ve 11 istasyondan oluşacak İstanbul'un 4. sürücüsüz metrosunun açılış hedefi 2025 sonuydu. Ancak ek borçlanma ihtiyacı nedeniyle çalışmalar durdu; İBB hatta çalışmalara yeniden başlayıp 2026 Mayıs ayında açmayı hedefliyor</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/tr/d/d9/Ak%C3%A7aray_logo.png" class="logo" alt="Akçaray">
        <span class="text">Stadyum - Kartepe Uzatması</span>
        <button class="info-symbol" data-target="infoBoxKartepe" aria-expanded="false" aria-controls="infoBoxKartepe">i</button>
    </div>
    <div class="clock" id="clockKartepe" aria-live="polite"></div>
    <div class="info-box" id="infoBoxKartepe" role="region" aria-hidden="true">
        <p>Otogar - Stadyum hattı ihalesine yapılacak iş arttırımı ile inşa edilecek 2 istasyon ve 1.4 km'den oluşan etabın ekim ayından itibaren 8 ay sonra açılması hedeflenmektedir</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Istanbul_Metro_Logo_%28subway_of_the_ministry%29.svg" class="logo" alt="Gebze-Darıca">
        <span class="text">Gebze - Darıca Metro Hattı</span>
        <button class="info-symbol" data-target="infoBox5" aria-expanded="false" aria-controls="infoBox5">i</button>
    </div>
    <div class="clock" id="clock5" aria-live="polite"></div>
    <div class="info-box" id="infoBox5" role="region" aria-hidden="true">
        <p>Kocaeli'nin ilk metrosu olacak hat 15 km ve 11 istasyondan oluşmakta. Ulaştırma Bakanlığı doğrudan açıklama yapmamış olsa da yerel gazetelerin bakanlıktan aldığı bilgiye göre hattın 2026'nın Haziran ayında açılması hedefleniyor</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/7/76/BursaRay_logo.svg" class="logo" alt="Balat">
        <span class="text">Balat - Şehir Hastanesi Uzatması</span>
        <button class="info-symbol" data-target="infoBox6b" aria-expanded="false" aria-controls="infoBox6b">i</button>
    </div>
    <div class="clock" id="clock6b" aria-live="polite"></div>
    <div class="info-box" id="infoBox6b" role="region" aria-hidden="true">
        <p>Bursa'nın iki metro hattından biri olan 19 km uzunluğundaki Arabayatağı - Balat işletmesinin YHT garı ve şehir hastanesine erişmesini sağlayacak uzatma 4 km ve 3 istasyondan oluşmaktadır. Emek ve Balat arasındaki 1 km'lik kısım 28 Mart 2024 tarihinde açıldı</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/57/Ankara_B1_Banliy%C3%B6_Hatt%C4%B1_Logosu.svg" class="logo" alt="Başkentray">
        <span class="text">Sincan - Yenikent Uzatması</span>
        <button class="info-symbol" data-target="infoBox14" aria-expanded="false" aria-controls="infoBox14">i</button>
    </div>
    <div class="clock" id="clock14" aria-live="polite"></div>
    <div class="info-box" id="infoBox14" role="region" aria-hidden="true">
        <p>Ankara'nın 38 km ve 24 istasyondan oluşan banliyö hattını Yenikent'e uzatmayı amaçlayan proje 10 km ve 3 istasyondan oluşmaktadır. Hattın sinyalizasyon ihalesi henüz gerçekleşmemiştir</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/43/Istanbul_T5_Line_Symbol.svg" class="logo" alt="T5">
        <span class="text">Feshane - Bayrampaşa Uzatması</span>
        <button class="info-symbol" data-target="infoBox6" aria-expanded="false" aria-controls="infoBox6">i</button>
    </div>
    <div class="clock" id="clock6" aria-live="polite"></div>
    <div class="info-box" id="infoBox6" role="region" aria-hidden="true">
        <p>Eminönü - Alibeyköy tramvay hattına Feshane istasyonuna 3. peron eklenerek bağlanacak uzatma 3.2 km ve 4 istasyondan oluşmakta. Hat açıldığında Eminönü - Alibeyköy ve Eminönü - Bayrampaşa olmak üzere iki ayrı işletmeye geçilecek</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6d/Istanbul_M7_Line_Symbol.svg" class="logo" alt="M7">
        <span class="text">Yıldız - Kabataş Uzatması</span>
        <button class="info-symbol" data-target="infoBox7" aria-expanded="false" aria-controls="infoBox7">i</button>
    </div>
    <div class="clock" id="clock7" aria-live="polite"></div>
    <div class="info-box" id="infoBox7" role="region" aria-hidden="true">
        <p>Mecidiyeköy - Mahmutbey hattını sahile indirmek amacıyla projelendirilen Mecidiyeköy - Yıldız arası 2 Ocak 2023 tarihinde açıldı. Arkeolojik kazılar geriye kalan Beşiktaş ve Kabataş istasyonlarında uzun yıllar süren gecikmelere sebep oldu</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/1/19/Istanbul_M14_Line_Symbol.svg" class="logo" alt="M14">
        <span class="text">Altunizade - Bosna Bulvarı Metrosu</span>
        <button class="info-symbol" data-target="infoBox8" aria-expanded="false" aria-controls="infoBox8">i</button>
    </div>
    <div class="clock" id="clock8" aria-live="polite"></div>
    <div class="info-box" id="infoBox8" role="region" aria-hidden="true">
        <p>İstanbul'un 4. Levent - Hisarüstü (M6) hattından sonra ikinci tek tünelli metrosu olacak hattın 2023 yılında açılması hedefleniyordu. Lakin zemin zorlukları sebebiyle sürekli ertelendi. Şu anda tünel kazıları bitmek üzere olan hattın istasyon inşaatları da devam etmekte</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://i.ibb.co/HTK7Wyg4/Screenshot-20251015-024206-Samsung-Notes.jpg" class="logo" alt="Konyaray">
        <span class="text">Konyaray Banliyö Hattı</span>
        <button class="info-symbol" data-target="infoBoxKonyaray" aria-expanded="false" aria-controls="infoBoxKonyaray">i</button>
    </div>
    <div class="clock" id="clockKonyaray" aria-live="polite"></div>
    <div class="info-box" id="infoBoxKonyaray" role="region" aria-hidden="true">
        <p>Türkiye'nin İzban, Marmaray, Başkentray, Adaray ve Gaziray sonrası 6. banliyö hattı olacak hattın 23 km ve 14 istasyondan oluşması planlanmaktadır. Ekim ayı itibariyle fiziksel ilerleme oranı %80'e ulaşmıştır</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Metro_%C4%B0zmir_logo.svg" class="logo" alt="Üçyol - Çamlıkule">
        <span class="text">Üçyol - Çamlıkule Metrosu</span>
        <button class="info-symbol" data-target="infoBox9" aria-expanded="false" aria-controls="infoBox9">i</button>
    </div>
    <div class="clock" id="clock9" aria-live="polite"></div>
    <div class="info-box" id="infoBox9" role="region" aria-hidden="true">
        <p>İzmir'in 2. metrosu olacak hat 13 km ve 10 istasyondan oluşup sürücüsüz işletilecektir. Hattın tünel kazılarında ağustos ayı itibariyle %77 ilerleme sağlanmıştır</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Kocaeli_Metro_logo.svg" class="logo" alt="Körfezray">
        <span class="text">Körfezray (Körfez - Kartepe) Metrosu</span>
        <button class="info-symbol" data-target="infoBox10" aria-expanded="false" aria-controls="infoBox10">i</button>
    </div>
    <div class="clock" id="clock10" aria-live="polite"></div>
    <div class="info-box" id="infoBox10" role="region" aria-hidden="true">
        <p>Kocaeli'nin ikinci metrosu olacak hat 26.8 km ve 18 istasyondan oluşmaktadır. Hattın TBM kazıları 6 Eylül 2025 tarihinde başlamıştır. Gebze - Darıca metrosu gibi bu hat da Ulaştırma Bakanlığı tarafından yapılmaktadır</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div id="belirsiz-link" class="link-box-red" onclick="showBelirsiz()" role="button" tabindex="0" style="display:none;">Açılış tarihleri belirsiz hatları incele</div>

</div>
<div id="belirsiz">

    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/62/Istanbul_M1B_Line_Symbol.svg" class="logo" alt="M1B">
            <span class="text">Kirazlı - Halkalı Üniversite Uzatması</span>
            <button class="info-symbol" data-target="infoBox15" aria-expanded="false" aria-controls="infoBox15">i</button>
        </div>
        <div class="clock static-status">
            <span class="lime-green">%8</span><span class="black">ilerleme ile devam ediyor</span>
        </div>
        <div class="info-box" id="infoBox15" role="region" aria-hidden="true">
            <p>M1B Yenikapı - Kirazlı hattını batıya doğru uzatacak etap 6.2 km ve 5 istasyondan oluşmaktadır. İhale kapsamında hattın tüm sinyalizasyonu da güncellenecektir. Sahadan gelen görüntülere göre çalışmalar haziran ayında yeniden başlamıştır. İBB çalışmaların yılbaşından sonra hızlancağını belirtmiştir</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
            <button class="map-btn" id="showMapBtnM1B" aria-expanded="false">Haritayı Göster</button>
            <div class="map-container" id="mapContainerM1B">
                <a href="https://ibb.co/VWn8wg98"><img src="https://i.ibb.co/GvYjHWpj/Kirazli-Halkali-hale-5-96ff7713f7.jpg" alt="M1B Kirazlı Halkalı Uzatması Haritası" /></a>
            </div>
        </div>
    </div>

    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/f/f9/Istanbul_M4_Line_Symbol.svg" class="logo" alt="M4">
            <span class="text">Tavşantepe - Kaynarca Uzatması</span>
            <button class="info-symbol" data-target="infoBox11" aria-expanded="false" aria-controls="infoBox11">i</button>
        </div>
        <div class="clock static-status">
            <span class="orange">%86</span><span class="black">ilerleme ile durdu</span>
        </div>
        <div class="info-box" id="infoBox11" role="region" aria-hidden="true">
            <p>Pendik - Fevzi Çakmak uzatmasıyla beraber inşa edilen 1 km ve 1 duraklık genişlemeyi içeren proje M4 hattını Kadıköy - Sabiha Gökçen ve Kadıköy - Kaynarca olmak üzere iki farklı işletmeye bölecektir. Hattın inşaatı mayıs ayında ek borçlanma gereksiniminden dolayı durmuştur</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>

    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/1/1d/Istanbul_M10_Line_Symbol.svg" class="logo" alt="M10">
            <span class="text">Pendik Merkez - Fevzi Çakmak Uzatması</span>
            <button class="info-symbol" data-target="infoBox17" aria-expanded="false" aria-controls="infoBox17">i</button>
        </div>
        <div class="clock static-status">
            <span class="orange">%86</span><span class="black">ilerleme ile durdu</span>
        </div>
        <div class="info-box" id="infoBox17" role="region" aria-hidden="true">
            <p>Tavşantepe - Kaynarca uzatması ile beraber inşa edilen 4 km ve 2 istasyondan oluşan kısım tamamlandığında M4 hattının mevcut Fevzi Çakmak - Sabiha Gökçen tünellerini kullanarak Pendik - Sabiha Gökçen arasında M10 hattını oluşturacaktır. Bu sayede Marmaray ve YHT garından havalimanına doğrudan erişim sağlanacaktır. Hattın inşaatı mayıs ayında ek borçlanma gereksiniminden dolayı durmuştur</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>

    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6d/Istanbul_M7_Line_Symbol.svg" class="logo" alt="M7">
            <span class="text">Mahmutbey - KSS Hastanesi Uzatması</span>
            <button class="info-symbol" data-target="infoBox12" aria-expanded="false" aria-controls="infoBox12">i</button>
        </div>
        <div class="clock static-status">
            <span class="orange">%50</span><span class="black">ilerleme ile durdu</span>
        </div>
        <div class="info-box" id="infoBox12" role="region" aria-hidden="true">
            <p>M7 hattını İstanbul'un batısına uzatmayı amaçlayan proje 7 km ve 5 istasyondan oluşmaktadır. Hattının inşaatı şantiye çalışanlarından alınan bilgilere göre durmuştur, İBB hat hakkında açıklama yapmamıştır</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>

    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/a/a1/Istanbul_M13_Line_Symbol.svg" class="logo" alt="M13">
            <span class="text">Emek - Yenidoğan Metrosu</span>
            <button class="info-symbol" data-target="infoBox16" aria-expanded="false" aria-controls="infoBox16">i</button>
        </div>
        <div class="clock static-status">
            <span class="orange">%8</span><span class="black">ilerleme ile durdu</span>
        </div>
        <div class="info-box" id="infoBox16" role="region" aria-hidden="true">
            <p>2017 yılında M5 hattının Çekmeköy - Sultanbeyli etabı ile beraber ihale edilen hat kredi alınamadığından dolayı 2024 sonbaharına kadar atıl halde kalmıştır. Bu tarihten sonra Emek istasyonun şaftı açılmaya başlanmış ve TBM girişi yapılacağı söylenmiştir. 2025 yılında sahadan alınan bilgilere göre M5'in Samandıra - Sultanbeyli etabını daha hızlı bitirebilmek için çalışmalar durdurulmuştur</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>

    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Ankaray_logo.svg/2048px-Ankaray_logo.svg.png" class="logo" alt="Ankaray">
            <span class="text">Dikimevi - Natoyolu Uzatması</span>
            <button class="info-symbol" data-target="infoBox13" aria-expanded="false" aria-controls="infoBox13">i</button>
        </div>
        <div class="clock">
            <span class="black">Şantiye kurulumları başlayacak</span>
        </div>
        <div class="info-box" id="infoBox13" role="region" aria-hidden="true">
            <p>Mevcut durumda AŞTİ - Dikimevi arasında çalışmakta olan hattı doğuya Natoyolu'na kadar uzatacak 8.5 km uzunluğunda 7 istasyondan oluşan projedir. İhale kapsamında sinyalizasyon da güncellenerek hattın batısında inşa edilmiş bir duraklık Söğtözü uzatması da işletmeye alınacaktır. Hattın temel atma töreni 13 Haziran 2025 tarihinde gerçekleşmiş olsa da o tarihten beri sahada çalışma görülmemiştir</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>
    <div id="proje-link" class="link-box-turquoise" onclick="showProje()" role="button" tabindex="0">Proje aşamasındaki hatları incele</div>
</div>

<div id="proje">
    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/b/b3/Istanbul_M20_Line_Symbol.svg" class="logo" alt="M20">
            <span class="text">Tüyap - Sefaköy - İncirli Metrosu</span>
            <button class="info-symbol" data-target="infoBoxM20" aria-expanded="false" aria-controls="infoBoxM20">i</button>
        </div>
        <div class="clock">
            <span class="black">Kredi başvurusu onaylanmıyor</span>
        </div>
        <div class="info-box" id="infoBoxM20" role="region" aria-hidden="true">
            <p>.</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>

    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/4/49/Istanbul_public_transport_-_T_symbol.svg" class="logo" alt="Tramvay">
            <span class="text">Üsküdar - Kadıköy - Maltepe Tramvayı</span>
            <button class="info-symbol" data-target="infoBoxTram" aria-expanded="false" aria-controls="infoBoxTram">i</button>
        </div>
        <div class="clock">
            <span class="black">Yatırım programına başvuruldu</span>
        </div>
        <div class="info-box" id="infoBoxTram" role="region" aria-hidden="true">
            <p>Üsküdar ve Kadıköy arasında raylı sistem bağlantısı sağlamak ve Minibüs Caddesi adı verilen güzergahı daha düzenli hale getirmesi hedeflenen hat 21 km ve 33 istasyondan oluşacaktır. Projelendirilmesi 2023'te kamuya duyurulan hat için 2024 yılının sonunda ÇED gerekli değildir kararı alınmıştır</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>
    
    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://i.ibb.co/HDJJ0cLW/Untitled-design-20251015-104923-0000.png" class="logo" alt="Trabzon Tramvayı">
            <span class="text">Trabzon (Stadyum - Havalimanı) Tramvayı</span>
            <button class="info-symbol" data-target="infoBoxTrabzon" aria-expanded="false" aria-controls="infoBoxTrabzon">i</button>
        </div>
        <div class="clock">
            <span class="black">ÇED raporu onaylandı</span>
        </div>
        <div class="info-box" id="infoBoxTrabzon" role="region" aria-hidden="true">
            <p>.</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>

    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://i.ibb.co/21N2zRQn/Untitled-design-20251016-115644-0000.png" class="logo" alt="Sakarya Tramvayı">
            <span class="text">Sakarya Tramvayı</span>
            <button class="info-symbol" data-target="infoBoxSakarya" aria-expanded="false" aria-controls="infoBoxSakarya">i</button>
        </div>
        <div class="clock">
            <span class="black">ÇED raporu onaylandı</span>
        </div>
        <div class="info-box" id="infoBoxSakarya" role="region" aria-hidden="true">
            <p>S</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>
    
    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Ankara_M7_Metro_Hatt%C4%B1_Logosu.svg/2048px-Ankara_M7_Metro_Hatt%C4%B1_Logosu.svg.png" class="logo" alt="M7 Ankara">
            <span class="text">Gar - Esenboğa Ekspres Metrosu</span>
            <button class="info-symbol" data-target="infoBoxM7Ankara" aria-expanded="false" aria-controls="infoBoxM7Ankara">i</button>
        </div>
        <div class="clock">
            <span class="black">Proje revize ediliyor</span>
        </div>
        <div class="info-box" id="infoBoxM7Ankara" role="region" aria-hidden="true">
            <p>.</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>
</div>

</div>
<script>
/* Zaman hesaplama */
const msGün = 1000 * 60 * 60 * 24;

/* Akçaray için özel saat/dakika/saniye sayacı */
const akcarayTargetDate = new Date("2025-10-14T17:00:00").getTime();
const akcarayClock = document.getElementById("clock1");
let akcarayInterval;

function updateAkcarayCountdown() {
    const now = new Date().getTime();
    const distance = akcarayTargetDate - now;

    if (distance < 0) {
        // Sayaç bittiğinde gösterilecek metin
        akcarayClock.innerHTML = '<span class="green">14 Ekim\'de açıldı</span><span>(599 gün sürdü)</span>';
        if (akcarayInterval) {
            clearInterval(akcarayInterval); // Sayacı durdur
        }
        return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    if (days > 0) {
         akcarayClock.innerHTML = `<span class="green">${days} gün ${hours} saat</span>`;
    } else {
         akcarayClock.innerHTML = `<span class="green">${hours} saat ${minutes} dakika ${seconds} saniye</span>`;
    }
}

// Sayacı her saniye güncellemek için interval oluştur
akcarayInterval = setInterval(updateAkcarayCountdown, 1000);
updateAkcarayCountdown(); // Sayfa ilk yüklendiğinde hemen gösterim için


/* Diğer sayaçlar için veri */
const clockData = {
    // clock1, özel sayaç tarafından yönetildiği için buradan kaldırıldı.
    clock2: { type: "date", ts: new Date("2025-10-29").getTime(), label: "29 Ekim 2025" },
    clock3: { type: "date", ts: new Date("2026-01-30").getTime(), label: "30 Ocak 2026" },
    clock4: { type: "date", ts: new Date("2026-05-31").getTime(), label: "31 Mayıs 2026" },
    clockKartepe: { type: "date", ts: new Date("2026-06-30").getTime(), label: "30 Haziran 2026" },
    clock5: { type: "date", ts: new Date("2026-06-30").getTime(), label: "30 Haziran 2026" },
    clock6b: { type: "date", ts: new Date("2026-12-31").getTime(), label: "2026 sonu" },
    clock14: { type: "date", ts: new Date("2027-01-01").getTime(), label: "2027 başı" },
    clock6: { type: "range", start: new Date("2027-01-01").getTime(), end: new Date("2027-06-30").getTime(), label: "2027 ilk yarı" },
    clock7: { type: "range", start: new Date("2027-01-01").getTime(), end: new Date("2027-12-31").getTime(), label: "2027 yılı" },
    clock8: { type: "range", start: new Date("2027-01-01").getTime(), end: new Date("2027-12-31").getTime(), label: "2027 yılı" },
    clockKonyaray: { type: "range", start: new Date("2027-01-01").getTime(), end: new Date("2027-12-31").getTime(), label: "2027 yılı" },
    clock9: { type: "range", start: new Date("2028-04-01").getTime(), end: new Date("2028-06-30").getTime(), label: "2028 ikinci çeyrek" },
    clock10: { type: "range", start: new Date("2029-01-01").getTime(), end: new Date("2029-12-31").getTime(), label: "2029 yılı" }
};

function updateAll() {
    const now = Date.now();
    Object.keys(clockData).forEach(id => {
        const el = document.getElementById(id);
        if (!el) return;
        const data = clockData[id];
        if (data.type === "date") {
            const diff = Math.ceil((data.ts - now) / msGün);
            el.innerHTML = diff > 0 ? `<span class="green">${diff} gün</span> <span>${data.label}</span>` : `<span class="green">Açıldı 🎉</span>`;
        } else {
            const dStart = Math.max(0, Math.ceil((data.start - now) / msGün));
            const dEnd = Math.max(0, Math.ceil((data.end - now) / msGün));
            el.innerHTML = `<span class="green">${dStart} - ${dEnd} gün</span> <span>${data.label}</span>`;
        }
    });
}
setInterval(updateAll, 60000);
updateAll();

/* Tema ve mobil toggles */
const temaBtn = document.getElementById("temaToggle");
const mobilBtn = document.getElementById("mobilToggle");
temaBtn.addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");
    const pressed = document.body.classList.contains("dark-mode");
    temaBtn.setAttribute("aria-pressed", pressed ? "true" : "false");
});
mobilBtn.addEventListener("click", () => {
    document.body.classList.toggle("zoomed");
    const pressed = document.body.classList.contains("zoomed");
    mobilBtn.setAttribute("aria-pressed", pressed ? "true" : "false");
    mobilBtn.textContent = pressed ? "Normal Görünüme Dön" : "Mobil Sürüme Geç";
});

/* Bilgi kutusu aç/kapa mantığı */
document.addEventListener("click", function(e) {
    const sym = e.target.closest(".info-symbol");
    if (sym) {
        const targetId = sym.getAttribute("data-target");
        const box = document.getElementById(targetId);
        document.querySelectorAll(".info-box.show").forEach(b => { if (b !== box) hideBox(b); });
        if (box.classList.contains("show")) {
            hideBox(box);
            sym.setAttribute("aria-expanded", "false");
        } else {
            showBox(box);
            sym.setAttribute("aria-expanded", "true");
        }
        return;
    }
    const close = e.target.closest(".close-btn");
    if (close) {
        const parent = close.closest(".info-box");
        if (parent) {
            hideBox(parent);
            const id = parent.id;
            const btn = document.querySelector(`.info-symbol[data-target="${id}"]`);
            if (btn) btn.setAttribute("aria-expanded", "false");
        }
        return;
    }
});

/* Harita Göster/Gizle fonksiyonu */
function setupMapToggle(buttonId, containerId) {
    const showMapButton = document.getElementById(buttonId);
    const mapContainer = document.getElementById(containerId);

    if (showMapButton && mapContainer) {
        showMapButton.addEventListener("click", () => {
            const isExpanded = showMapButton.getAttribute("aria-expanded") === "true";
            mapContainer.classList.toggle("show");
            if (!isExpanded) {
                showMapButton.textContent = "Haritayı Gizle";
                showMapButton.setAttribute("aria-expanded", "true");
            } else {
                showMapButton.textContent = "Haritayı Göster";
                showMapButton.setAttribute("aria-expanded", "false");
            }
        });
    }
}

// M11 ve M1B için harita açma/kapama butonlarını ayarla
setupMapToggle("showMapBtnM11", "mapContainerM11");
setupMapToggle("showMapBtnM1B", "mapContainerM1B");


function showBox(box) {
    if (!box) return;
    box.style.display = "block";
    box.setAttribute("aria-hidden", "false");
    requestAnimationFrame(() => box.classList.add("show"));
}
function hideBox(box) {
    if (!box) return;
    box.classList.remove("show");
    box.setAttribute("aria-hidden", "true");
    
    // Harita varsa onu da gizle
    const map = box.querySelector('.map-container');
    if (map && map.classList.contains('show')) {
        map.classList.remove('show');
        const mapBtn = box.querySelector('.map-btn');
        if(mapBtn) {
            mapBtn.textContent = "Haritayı Göster";
            mapBtn.setAttribute("aria-expanded", "false");
        }
    }
    
    box.addEventListener("transitionend", function onEnd() {
        if (!box.classList.contains("show")) box.style.display = "none";
        box.removeEventListener("transitionend", onEnd);
    }, { once:true });
}

/* Klavye ile link-box açma için destek */
document.querySelectorAll('.link-box, .link-box-red, .link-box-turquoise').forEach(el => {
    el.addEventListener('keydown', (ev) => {
        if (ev.key === 'Enter' || ev.key === ' ') {
            ev.preventDefault();
            el.click(); // Tıklama olayını tetikle
        }
    });
});

/* Gelecek göster */
function showGelecek() {
    const g = document.getElementById("gelecek");
    if (!g) return;
    g.style.display = "block";
    document.querySelectorAll(".link-box").forEach(lb => lb.style.display = "none");
    const belirsizLink = document.getElementById("belirsiz-link");
    if(belirsizLink) {
        belirsizLink.style.display = "block";
    }
}

/* Belirsizleri göster */
function showBelirsiz() {
    const b = document.getElementById("belirsiz");
    if (b) b.style.display = "block";
    const belirsizLink = document.getElementById("belirsiz-link");
    if(belirsizLink) {
        belirsizLink.style.display = "none";
    }
}

/* Projeleri göster */
function showProje() {
    const p = document.getElementById("proje");
    if (p) p.style.display = "block";
    const projeLink = document.getElementById("proje-link");
    if (projeLink) {
        projeLink.style.display = "none";
    }
}

</script>
</body>
</html>
