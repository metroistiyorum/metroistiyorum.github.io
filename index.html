<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Metro Hattı Açılış Sayaçları</title>
<style>
html, body {
    margin:0;
    padding:0;
    height:100%;
    font-family: Arial, sans-serif;
    transition: background 0.3s, color 0.3s, transform 0.5s ease-in-out;
    transform-origin: top left;
}
body.dark-mode {background:#000;color:#fff;}

#temaToggle, #mobilToggle {
    position: fixed; right:15px; padding:10px 15px;
    cursor:pointer; background:#333; color:#fff; border:none;
    font-weight:bold; font-size:16px; border-radius:5px; z-index:2000;
}
#temaToggle {top:15px;}
#mobilToggle {top:60px;}

.wrapper {
    margin-top:50px; 
    display:flex; 
    flex-direction:column; 
    align-items:center; 
    width:100%; 
    padding:0 16px; 
    box-sizing:border-box;
    transition: all 0.3s ease;
}

/* ✅ Mobil görünüm zoom */
body.zoomed {
    transform: scale(1.9);
    transform-origin: top left;
    overflow-x:hidden;
}
body.zoomed #temaToggle, 
body.zoomed #mobilToggle {
    display:none;
}
body.zoomed .wrapper {
    align-items:flex-start;
    padding-left:14px;
    margin-top:10px;
    width:100vw;
    box-sizing:border-box;
}

body.zoomed #gelecek {
    margin: 0;
    padding-left:0;
    max-width:none;
    width:100%;
}

/* 🔹 Mobil sürümde genel metin ve logo boyutları artırıldı */
body.zoomed .message {
    font-size: 34px;
    gap: 18px;
}

body.zoomed img.logo {
    height: 75px;
}

body.zoomed .clock {
    font-size: 50px;
}

/* 🔹 Sayaç grupları arasına boşluk (eski haline yakın) */
.sayaç-grubu {
    margin-bottom: 80px;
    max-width:600px;
    width:100%;
    text-align:left;
}

/* 🔹 Mobil modda bilgi kutuları daha büyük ve okunabilir hale gelsin */
body.zoomed .info-box {
    font-size: 22px;
    line-height: 1.6;
    padding: 18px;
    border-radius: 10px;
}

body.zoomed .info-box p {
    font-size: 22px;
    font-weight: 600;
}

body.zoomed .close-btn {
    font-size: 18px;
    padding: 8px 12px;
    border-radius: 8px;
}

/* 🔸 Satırların alta geçmesini engelle */
.message {
    display:flex; 
    align-items:center; 
    gap:15px; 
    font-size:30px;
    flex-wrap:nowrap;
    white-space:nowrap;
}

/* 🔹 Logolar */
img.logo {
    height:60px;
    object-fit:contain;
    flex-shrink:0;
}

/* 🔹 Sadece BursaRay logosuna yumuşatma efekti */
img.logo[alt="Balat"] {
    border-radius:12px;
}

/* Sayaç metni */
.clock {font-size:40px; font-weight:bold; margin-top:10px; white-space:nowrap;}
.green{color:#008000;}
.red{color:red;}
.orange{color:orange;}
.black{color:black;}

.clock span + span{margin-left:10px; color:black;}
body.dark-mode .clock span{color:white;}
body.dark-mode .clock .green{color:#008000;}
body.dark-mode .clock .red{color:#ff4d4d;}
body.dark-mode .clock .orange{color:orange;}
body.dark-mode .clock .black{color:white;}
body.dark-mode .clock span + span{color:white;}

/* Statik durumlar için boşluğu daraltan özel kural */
.clock.static-status span + span {
    margin-left: 0.25em;
}


/* Bilgi simgesi */
.info-symbol{
    cursor:pointer; font-size:16px; font-weight:bold; width:20px; height:20px; line-height:20px;
    border-radius:50%; background:#ccc; color:#000; display:inline-flex; align-items:center; justify-content:center; margin-left:5px;
}
.info-symbol:hover{background:#888; color:#fff;}

/* Bilgi kutusu */
.info-box{
    display:none; margin-top:10px; background:#f0f0f0; color:#000; border:1px solid #ccc;
    padding:12px; border-radius:8px; width:100%; line-height:1.4; font-weight:600;
    box-shadow:0 6px 18px rgba(0,0,0,0.12);
    transform:translateY(-12px) scale(0.99);
    opacity:0;
    max-height:0;
    overflow:hidden;
    transition: transform 320ms cubic-bezier(.2,.9,.2,1), opacity 320ms ease, max-height 320ms ease;
}
.info-box.show{
    display:block;
    transform:translateY(0) scale(1);
    opacity:1;
    max-height:600px;
}
body.dark-mode .info-box{background:#333;color:#fff;border-color:#555;}
.info-box p{margin:0; padding:0; font-weight:600;}
.close-btn{margin-top:8px; cursor:pointer; background:#eee; border:1px solid #ccc; padding:6px; border-radius:6px; font-weight:600; display:inline-block;}
body.dark-mode .close-btn{background:#555; color:#fff; border-color:#888;}

/* Link kutuları */
.link-box{
    font-size:22px; font-weight:bold; color:purple; cursor:pointer; text-decoration:none; margin:0; padding:10px 0;
    display:block; text-align:center;
}
.link-box:hover{color:darkviolet;}

.link-box-red {
    font-size:22px; font-weight:bold; color:red; cursor:pointer; text-decoration:none; margin:0; padding:10px 0;
    display:block; text-align:center;
}
.link-box-red:hover{color:darkred;}

#gelecek, #belirsiz {
    display:none;
    width:100%;
    max-width:600px;
    margin:0 auto;
    text-align:left;
}

/* Responsive */
@media (max-width:640px){
    .message{font-size:24px; gap:12px;}
    img.logo{height:50px;}
    .clock{font-size:32px;}
    .close-btn{font-size:14px;}
    #temaToggle, #mobilToggle{font-size:16px;}
}
</style>
</head>
<body>
<button id="temaToggle" aria-pressed="false">Tema Değiştir</button>
<button id="mobilToggle" aria-pressed="false">Mobil Sürüme Geç</button>

<div class="wrapper">
<div class="sayaç-grubu">
  <div class="message">
    <img src="https://upload.wikimedia.org/wikipedia/commons/e/e8/Istanbul_M3_Line_Symbol.svg" class="logo" alt="M3">
    <span class="text">Yıldıztepe Metro İstasyonu</span>
  </div>
  <div class="clock">
    <span class="green">8 Ekim'de açıldı</span>
    <span>(3407 gün sürdü)</span>
  </div>
</div>
<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/tr/d/d9/Ak%C3%A7aray_logo.png" class="logo" alt="Akçaray">
        <span class="text">Otogar - Stadyum Uzatması</span>
        <button class="info-symbol" data-target="infoBox1" aria-expanded="false" aria-controls="infoBox1">i</button>
    </div>
    <div class="clock" id="clock1" aria-live="polite"></div>
    <div class="info-box" id="infoBox1" role="region" aria-hidden="true">
        <p>Kocaeli Akçaray tramvay hattının 3.8 km ve 6 istasyondan oluşan Stadyum uzatmasının 14 Ekim 2025 tarihindeki Türkiye - Gürcistan maçına kadar açılması hedefleniyor. Bu etapla beraber sistemin büyüklüğü 18 km ve 27 istasyona ulaşacak</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/1/14/Istanbul_M11_Line_Symbol.svg" class="logo" alt="M11">
        <span class="text">Arnavutköy - Halkalı Uzatması</span>
        <button class="info-symbol" data-target="infoBox2" aria-expanded="false" aria-controls="infoBox2">i</button>
    </div>
    <div class="clock" id="clock2" aria-live="polite"></div>
    <div class="info-box" id="infoBox2" role="region" aria-hidden="true">
        <p>69 km uzunluğundaki Gayrettepe - İstanbul Havalimanı - Halkalı metro hattının son etabı olan 17.5 km ve 5 istasyonluk kesiminin sahadan duyumlara göre Cumhuriyet Bayramı'na yetiştirilmesi hedefleniyor. Ulaştırma Bakanlığı 2025 sonu dediğinden beri ek bilgi paylaşmadı</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/b/bd/Istanbul_M5_Line_Symbol.svg" class="logo" alt="M5">
        <span class="text">Samandıra - Sultanbeyli Uzatması</span>
        <button class="info-symbol" data-target="infoBox3" aria-expanded="false" aria-controls="infoBox3">i</button>
    </div>
    <div class="clock" id="clock3" aria-live="polite"></div>
    <div class="info-box" id="infoBox3" role="region" aria-hidden="true">
        <p>Üsküdar - Samandıra arasında çalışmakta olan hattın 4.4 km ve 3 istasyondan oluşan son etabının Ocak 2026 bitmeden açılacağı belirtiliyor. 2023 yılında Çekmeköy - Samandıra arasının açılışına yetişmediği için pas geçilen Sancaktepe Şehir Hastanesi istasyonunun ocak ayında açılıp açılmayacağı hakkında kesin bir bilgilendirme yok</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="link-box" onclick="showGelecek()" role="button" tabindex="0">Uzak geleceği görmek istiyorsan tıkla</div>

<div id="gelecek">

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/d/d4/Istanbul_M12_Line_Symbol.svg" class="logo" alt="M12">
        <span class="text">Ümraniye - Ataşehir - Göztepe Metrosu</span>
        <button class="info-symbol" data-target="infoBox4" aria-expanded="false" aria-controls="infoBox4">i</button>
    </div>
    <div class="clock" id="clock4" aria-live="polite"></div>
    <div class="info-box" id="infoBox4" role="region" aria-hidden="true">
        <p>13 km ve 11 istasyondan oluşacak İstanbul'un 4. sürücüsüz metrosunun açılış hedefi 2025 sonuydu. Ancak ek borçlanma ihtiyacı nedeniyle çalışmalar durdu; İBB hatta çalışmalara yeniden başlayıp 2026 Mayıs ayında açmayı hedefliyor.</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Istanbul_Metro_Logo_%28subway_of_the_ministry%29.svg" class="logo" alt="Gebze-Darıca">
        <span class="text">Gebze - Darıca Metro Hattı</span>
        <button class="info-symbol" data-target="infoBox5" aria-expanded="false" aria-controls="infoBox5">i</button>
    </div>
    <div class="clock" id="clock5" aria-live="polite"></div>
    <div class="info-box" id="infoBox5" role="region" aria-hidden="true">
        <p>Kocaeli'nin ilk metrosu olacak hat 15 km ve 11 istasyondan oluşmakta. Ulaştırma Bakanlığı doğrudan açıklama yapmamış olsa da yerel gazetelerin bakanlıktan aldığı bilgiye göre hattın 2026'nın Haziran ayında açılması hedefleniyor</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/7/76/BursaRay_logo.svg" class="logo" alt="Balat">
        <span class="text">Balat - Şehir Hastanesi Uzatması</span>
        <button class="info-symbol" data-target="infoBox6b" aria-expanded="false" aria-controls="infoBox6b">i</button>
    </div>
    <div class="clock" id="clock6b" aria-live="polite"></div>
    <div class="info-box" id="infoBox6b" role="region" aria-hidden="true">
        <p>Bursa'nın iki metro hattından biri olan 19 km uzunluğundaki Arabayatağı - Balat işletmesinin YHT garı ve şehir hastanesine erişmesini sağlayacak uzatma 4 km ve 3 istasyondan oluşmaktadır. Emek ve Balat arasındaki 1 km'lik kısım 28 Mart 2024 tarihinde açıldı.</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/57/Ankara_B1_Banliy%C3%B6_Hatt%C4%B1_Logosu.svg" class="logo" alt="Başkentray">
        <span class="text">Sincan - Yenikent Uzatması</span>
        <button class="info-symbol" data-target="infoBox14" aria-expanded="false" aria-controls="infoBox14">i</button>
    </div>
    <div class="clock" id="clock14" aria-live="polite"></div>
    <div class="info-box" id="infoBox14" role="region" aria-hidden="true">
        <p>Ankara'nın 38 km ve 24 istasyondan oluşan banliyö hattını Yenikent'e uzatmayı amaçlayan proje 10 km ve 3 istasyondan oluşmaktadır. Hattın sinyalizasyon ihalesi henüz gerçekleşmemiştir</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/43/Istanbul_T5_Line_Symbol.svg" class="logo" alt="T5">
        <span class="text">Feshane - Bayrampaşa Uzatması</span>
        <button class="info-symbol" data-target="infoBox6" aria-expanded="false" aria-controls="infoBox6">i</button>
    </div>
    <div class="clock" id="clock6" aria-live="polite"></div>
    <div class="info-box" id="infoBox6" role="region" aria-hidden="true">
        <p>Eminönü - Alibeyköy tramvay hattına Feshane istasyonuna 3. peron eklenerek bağlanacak uzatma 3.2 km ve 4 istasyondan oluşmakta. Hat açıldığında Eminönü - Alibeyköy ve Eminönü - Bayrampaşa olmak üzere iki ayrı işletmeye geçilecek</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6d/Istanbul_M7_Line_Symbol.svg" class="logo" alt="M7">
        <span class="text">Yıldız - Kabataş Uzatması</span>
        <button class="info-symbol" data-target="infoBox7" aria-expanded="false" aria-controls="infoBox7">i</button>
    </div>
    <div class="clock" id="clock7" aria-live="polite"></div>
    <div class="info-box" id="infoBox7" role="region" aria-hidden="true">
        <p>Mecidiyeköy - Mahmutbey hattını sahile indirmek amacıyla projelendirilen Mecidiyeköy - Yıldız arası 2 Ocak 2023 tarihinde açıldı. Arkeolojik kazılar geriye kalan Beşiktaş ve Kabataş istasyonlarında uzun yıllar süren gecikmelere sebep oldu</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
    <div class="message">
        <img src="https://upload.wikimedia.org/wikipedia/commons/1/19/Istanbul_M14_Line_Symbol.svg" class="logo" alt="M14">
        <span class="text">Altunizade - Bosna Bulvarı Metrosu</span>
        <button class="info-symbol" data-target="infoBox8" aria-expanded="false" aria-controls="infoBox8">i</button>
    </div>
    <div class="clock" id="clock8" aria-live="polite"></div>
    <div class="info-box" id="infoBox8" role="region" aria-hidden="true">
        <p>İstanbul'un 4. Levent - Hisarüstü (M6) hattından sonra ikinci tek tünelli metrosu olacak hattın 2023 yılında açılması hedefleniyordu. Lakin zemin zorlukları sebebiyle sürekli ertelendi. Şu anda tünel kazıları bitmek üzere olan hattın istasyon inşaatları da devam etmekte</p>
        <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
    </div>
</div>

<div class="sayaç-grubu">
  <div class="message">
    <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Metro_%C4%B0zmir_logo.svg" class="logo" alt="Üçyol - Çamlıkule">
    <span class="text">Üçyol - Çamlıkule Metrosu</span>
    <button class="info-symbol" data-target="infoBox9" aria-expanded="false" aria-controls="infoBox9">i</button>
  </div>
  <div class="clock" id="clock9" aria-live="polite"></div>
  <div class="info-box" id="infoBox9" role="region" aria-hidden="true">
    <p>İzmir'in 2. metrosu olacak hat 13 km ve 10 istasyondan oluşup sürücüsüz işletilecektir. Hattın tünel kazılarında ağustos ayı itibariyle %77 ilerleme sağlanmıştır</p>
    <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
  </div>
</div>

<div id="belirsiz-link" class="link-box-red" onclick="showBelirsiz()" role="button" tabindex="0" style="display:none;">Açılış tarihleri belirsiz hatları incele</div>

</div> 
<div id="belirsiz">
    
    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/f/f9/Istanbul_M4_Line_Symbol.svg" class="logo" alt="M4">
            <span class="text">Tavşantepe - Kaynarca Uzatması</span>
            <button class="info-symbol" data-target="infoBox11" aria-expanded="false" aria-controls="infoBox11">i</button>
        </div>
        <div class="clock static-status">
            <span class="orange">%86</span><span class="black">ilerleme ile durdu</span>
        </div>
        <div class="info-box" id="infoBox11" role="region" aria-hidden="true">
            <p>Pendik - Fevzi Çakmak uzatmasıyla beraber inşa edilen 1 km ve 1 duraklık genişlemeyi içeren proje M4 hattını Kadıköy - Sabiha Gökçen ve Kadıköy - Kaynarca olmak üzere iki farklı işletmeye bölecektir. Hattın inşaatı mayıs ayında ek borçlanma gereksiniminden dolayı durmuştur</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>

    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/1/1d/Istanbul_M10_Line_Symbol.svg" class="logo" alt="M10">
            <span class="text">Pendik Merkez - Fevzi Çakmak Uzatması</span>
            <button class="info-symbol" data-target="infoBox10" aria-expanded="false" aria-controls="infoBox10">i</button>
        </div>
        <div class="clock static-status">
            <span class="orange">%86</span><span class="black">ilerleme ile durdu</span>
        </div>
        <div class="info-box" id="infoBox10" role="region" aria-hidden="true">
            <p>Tavşentepe - Kaynarca uzatması ile beraber inşa edilen 4 km ve 2 istasyondan oluşan proje tamamlandığında M4 hattının mevcut Fevzi Çakmak - Sabiha Gökçen tünellerini kullanarak Pendik - Sabiha Gökçen arasında M10 hattının oluşmasını sağlayacaktır.Hattın inşaatı mayıs ayında ek borçlanma gereksiniminden dolayı durmuştur  </p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>
    
    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6d/Istanbul_M7_Line_Symbol.svg" class="logo" alt="M7">
            <span class="text">Mahmutbey - KSS Hastanesi Uzatması</span>
            <button class="info-symbol" data-target="infoBox12" aria-expanded="false" aria-controls="infoBox12">i</button>
        </div>
        <div class="clock static-status">
            <span class="orange">%50</span><span class="black">ilerleme ile durdu</span>
        </div>
        <div class="info-box" id="infoBox12" role="region" aria-hidden="true">
            <p>M7 hattını İstanbul'un doğusuna uzatmayı amaçlayan proje 7 km ve 5 istasyondan oluşmaktadır. Hattının inşaatı şantiye çalışanlarından alınan bilgilere göre durmuştur, İBB hat hakkkında açıklama yapmamıştır </p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>
    
    <div class="sayaç-grubu">
        <div class="message">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Ankaray_logo.svg/2048px-Ankaray_logo.svg.png" class="logo" alt="Ankaray">
            <span class="text">Dikimevi - Natoyolu Uzatması</span>
            <button class="info-symbol" data-target="infoBox13" aria-expanded="false" aria-controls="infoBox13">i</button>
        </div>
        <div class="clock">
            <span class="black">Şantiye kurulumları başlayacak</span>
        </div>
        <div class="info-box" id="infoBox13" role="region" aria-hidden="true">
            <p>Mevcut durumda AŞTİ - Dikimevi arasında çalışmakta olan hattı doğuya Natoyolu'na kadar uzatacak 8.5 km uzunluğunda 7 istasyondan oluşan projedir. İhale kapsamında sinyalizasyon da güncellenerek hattın batısında inşa edilmiş bir duraklık Söğtözü uzatması da işletmeye alınacaktır. Hattın temel atma töreni 13 Haziran 2025 tarihinde gerçekleşmiş olsa da o tarihten beri sahada çalışma görülmemiştir</p>
            <button class="close-btn" aria-label="Kapat bilgi kutusunu">Kapat</button>
        </div>
    </div>
</div>

</div> 
<script>
/* Zaman hesaplama */
const msGün = 1000*60*60*24;
const clockData = {
  clock1: { type: "date", ts: new Date("2025-10-14").getTime(), label: "14 Ekim 2025" },
  clock2: { type: "date", ts: new Date("2025-10-29").getTime(), label: "29 Ekim 2025" },
  clock3: { type: "date", ts: new Date("2026-01-30").getTime(), label: "30 Ocak 2026" },
  clock4: { type: "date", ts: new Date("2026-05-31").getTime(), label: "31 Mayıs 2026" },
  clock5: { type: "date", ts: new Date("2026-06-30").getTime(), label: "30 Haziran 2026" },
  clock6b: { type: "date", ts: new Date("2026-12-31").getTime(), label: "2026 sonu" },
  clock14: { type: "date", ts: new Date("2027-01-01").getTime(), label: "2027 başı" },
  clock6: { type: "range", start: new Date("2027-01-01").getTime(), end: new Date("2027-06-30").getTime(), label: "2027 ilk yarı" },
  clock7: { type: "range", start: new Date("2027-01-01").getTime(), end: new Date("2027-12-31").getTime(), label: "2027 yılı" },
  clock8: { type: "range", start: new Date("2027-01-01").getTime(), end: new Date("2027-12-31").getTime(), label: "2027 yılı" },
  clock9: { type: "range", start: new Date("2028-04-01").getTime(), end: new Date("2028-06-30").getTime(), label: "2028 ikinci çeyrek" }
};

function updateAll() {
  const now = Date.now();
  Object.keys(clockData).forEach(id => {
    const el = document.getElementById(id);
    if (!el) return;
    const data = clockData[id];
    if (data.type === "date") {
      const diff = Math.ceil((data.ts - now) / msGün);
      el.innerHTML = diff > 0 ? `<span class="green">${diff} gün</span> <span>${data.label}</span>` : `<span class="green">Açıldı 🎉</span>`;
    } else {
      const dStart = Math.max(0, Math.ceil((data.start - now) / msGün));
      const dEnd = Math.max(0, Math.ceil((data.end - now) / msGün));
      el.innerHTML = `<span class="green">${dStart} - ${dEnd} gün</span> <span>${data.label}</span>`;
    }
  });
}
setInterval(updateAll, 60000);
updateAll();

/* Tema ve mobil toggles */
const temaBtn = document.getElementById("temaToggle");
const mobilBtn = document.getElementById("mobilToggle");
temaBtn.addEventListener("click", () => {
  document.body.classList.toggle("dark-mode");
  const pressed = document.body.classList.contains("dark-mode");
  temaBtn.setAttribute("aria-pressed", pressed ? "true" : "false");
});
mobilBtn.addEventListener("click", () => {
  document.body.classList.toggle("zoomed");
  const pressed = document.body.classList.contains("zoomed");
  mobilBtn.setAttribute("aria-pressed", pressed ? "true" : "false");
  mobilBtn.textContent = pressed ? "Normal Görünüme Dön" : "Mobil Sürüme Geç";
});

/* Bilgi kutusu aç/kapa mantığı */
document.addEventListener("click", function(e){
    const sym = e.target.closest(".info-symbol");
    if (sym) {
        const targetId = sym.getAttribute("data-target");
        const box = document.getElementById(targetId);
        document.querySelectorAll(".info-box.show").forEach(b => { if (b !== box) hideBox(b); });
        if (box.classList.contains("show")) {
            hideBox(box);
            sym.setAttribute("aria-expanded", "false");
        } else {
            showBox(box);
            sym.setAttribute("aria-expanded", "true");
        }
        return;
    }
    const close = e.target.closest(".close-btn");
    if (close) { 
        const parent = close.closest(".info-box");
        if (parent) {
            hideBox(parent);
            const id = parent.id;
            const btn = document.querySelector(`.info-symbol[data-target="${id}"]`);
            if (btn) btn.setAttribute("aria-expanded", "false");
        }
        return; 
    }
});
function showBox(box){
    if (!box) return;
    box.style.display = "block";
    box.setAttribute("aria-hidden", "false");
    requestAnimationFrame(()=> box.classList.add("show"));
}
function hideBox(box){
    if (!box) return;
    box.classList.remove("show");
    box.setAttribute("aria-hidden", "true");
    box.addEventListener("transitionend", function onEnd(){
        if (!box.classList.contains("show")) box.style.display = "none";
        box.removeEventListener("transitionend", onEnd);
    }, {once:true});
}

/* Klavye ile link-box açma için destek */
document.querySelectorAll('.link-box').forEach(el => {
    el.addEventListener('keydown', (ev) => {
        if (ev.key === 'Enter' || ev.key === ' ') {
            ev.preventDefault();
            showGelecek();
        }
    });
});
document.querySelectorAll('.link-box-red').forEach(el => {
    el.addEventListener('keydown', (ev) => {
        if (ev.key === 'Enter' || ev.key === ' ') {
            ev.preventDefault();
            showBelirsiz();
        }
    });
});

/* Gelecek göster */
function showGelecek(){
    const g = document.getElementById("gelecek");
    if (!g) return;
    g.style.display = "block";
    document.querySelectorAll(".link-box").forEach(lb => lb.style.display = "none");
    
    // Kırmızı linki göster
    const belirsizLink = document.getElementById("belirsiz-link");
    if(belirsizLink) {
        belirsizLink.style.display = "block";
    }
}

/* Belirsizleri göster */
function showBelirsiz(){
    const b = document.getElementById("belirsiz");
    if (b) b.style.display = "block";
    
    const belirsizLink = document.getElementById("belirsiz-link");
    if(belirsizLink) {
        belirsizLink.style.display = "none";
    }
}

</script>
</body>
</html>
